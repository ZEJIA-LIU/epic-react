{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Component","observer","HistoryStore","useStores","useEffect","reSet","initialLoad","pageStart","loadMore","find","hasMore","isLoading","hasmore","useWindow","dataSource","list","renderItem","item","i","Item","key","id","src","attributes","url","className","filename","target","href","onClick","delete","then","catch","e","console","log","History"],"mappings":"qNA6DeA,G,OAvDGC,aAAS,WAAO,IACtBC,EAAiBC,cAAjBD,aAkBR,OANAE,qBAAU,WACN,OAAO,WACHF,EAAaG,WAElB,IAIC,kBAAC,IAAD,CACIC,aAAa,EACbC,UAAW,EACXC,SAtBS,WACbN,EAAaO,QAsBTC,SAAUR,EAAaS,WAAaT,EAAaU,QACjDC,WAAW,GAGX,kBAAC,IAAD,CACIC,WAAYZ,EAAaa,KACzBC,WACI,SAACC,EAAMC,GAAP,OAAa,kBAAC,IAAKC,KAAN,CAAWC,IAAKH,EAAKI,IAC9B,6BACI,yBAAKC,IAAKL,EAAKM,WAAWC,IAAID,WAAWC,IAAKC,UAAU,kBAE5D,6BACI,4BAAKR,EAAKM,WAAWG,WAEzB,6BACI,uBAAGC,OAAO,SAASC,KAAMX,EAAKM,WAAWC,IAAID,WAAWC,KAAMP,EAAKM,WAAWC,IAAID,WAAWC,MAEjG,6BAAM,4BAAQK,QAAS,WArCvB,IAACR,IAqC0CJ,EAAKI,GApChEnB,EAAa4B,OAAOT,GACfU,MAAK,SAACd,GACHf,EAAaG,WAEhB2B,OAAM,SAAAC,GAAC,OAAIC,QAAQC,IAAIF,QAgCN,oBAKb/B,EAAaS,WAAaT,EAAaU,SAAY,kBAAC,IAAD,YC3CrDwB,UAPf,WACI,OACI,oCACI,kBAAC,EAAD","file":"static/js/9.5f332676.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport useStores from \"../stores/index.js\"\nimport { observer } from 'mobx-react'\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { List, Spin } from 'antd';\nimport '../style/List.css'\nconst Component = observer(() => {\n    const { HistoryStore } = useStores()\n    const loadMore = () => {\n        HistoryStore.find()\n    }\n    const deleteImage = (id) => {\n        HistoryStore.delete(id)\n            .then((item) => {\n                HistoryStore.reSet()\n            })\n            .catch(e => console.log(e))\n\n    }\n    useEffect(() => {\n        return () => {\n            HistoryStore.reSet()\n        }\n    }, [])\n\n    return (\n\n        <InfiniteScroll\n            initialLoad={true}\n            pageStart={0}\n            loadMore={loadMore}\n            hasMore={!HistoryStore.isLoading && HistoryStore.hasmore}\n            useWindow={true}\n        >\n\n            <List\n                dataSource={HistoryStore.list}\n                renderItem={\n                    (item, i) => <List.Item key={item.id}>\n                        <div>\n                            <img src={item.attributes.url.attributes.url} className=\"historyImage\" />\n                        </div>\n                        <div>\n                            <h5>{item.attributes.filename}</h5>\n                        </div>\n                        <div>\n                            <a target=\"_blank\" href={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url}</a>\n                        </div>\n                        <div ><button onClick={() => { deleteImage(item.id) }}>删除</button></div>\n                    </List.Item>\n                }\n            >\n\n                {HistoryStore.isLoading && HistoryStore.hasmore && (<Spin />)}\n            </List>\n        </InfiniteScroll>\n\n    )\n}\n)\n\nexport default Component;","import React from 'react';\nimport List from '../components/List.js'\n\nfunction History() {\n    return (\n        <>\n            <List />\n        </>\n    )\n}\nexport default History;"],"sourceRoot":""}